"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const axios_1 = __importDefault(require("axios"));
const Response_1 = __importDefault(require("./types/Response"));
class ApiClient {
    constructor(accessToken) {
        if (!accessToken) {
            throw new Error("Required access token");
        }
        this.instance = axios_1.default.create({
            baseURL: "https://api.ouraring.com",
            headers: {
                Authorization: "Bearer " + accessToken,
            },
        });
    }
    async fetch(path, queryParameters) {
        const url = !queryParameters ? path : path + `?${queryParameters}`;
        const response = await this.instance.get(url);
        return new Response_1.default(response.status, response.data);
    }
}
exports.default = ApiClient;
